"ERROR open reverse: close limit when has openMarketPosition SHORT and has partialFilled before 01":
  - default:
      leverage: 10
  - trader1 limit long 4990 100
  - trader0 market short 4990 100:
      quantity: -100
  - expect trader1 limitorder isFilled is true
  - trader0 limit close 4980 100
  - debug trader0 limitorder
  - expect trader0 limitorder isFilled is false
  - trader1 limit long 4985 100
  - trader2 market short 50:
      quantity: -50
  - expect trader1 limitorder 1:
      partialFilled: 50
      isFilled: false
  - debug trader0 limitorder
  - debug trader1 limitorder 1
  - expect trader0 limitorder:
      partialFilled: 0
      isFilled: false
  - trader1 market short 150:
      quantity: 50


"ERROR self filled market: open limit order has been partialFilled and open market with reduce position":
  - default:
      leverage: 10
  - trader0 limit short 5010 100
  - trader1 market long 5010 30:
      - quantity: 30
  - trader0 market long 5015 40:
      - quantity: 0
      - partialFilled: 70

"liquidate partial position with limit order SHORT":
  - default:
      leverage: 10
  - trader0 limit short 5000 100
  - trader1 market long 5000 100:
      - quantity: 100
  - trader1 limit short 5242 100
  - trader2 market long 5242 100:
      - quantity: 100
  # expect with getMaintenanceDetail here
  - trader1 limit short 5242 20
  # call liquidate with trader0
  # get Position of trader0 and expect

